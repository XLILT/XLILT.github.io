
<!DOCTYPE html>
<html>
<head>
    <title>测试播放视频</title>    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="/favicon.ico">
    </head>
    <body>
        <noscript>You need to enable JavaScript to run this app.</noscript>
        <link href="/lib/videojs/video-js.css" rel="stylesheet">
        <div style="width:350px;height:410px">
            <video id="my-player" controls autoplay preload="auto" class="video-js vjs-big-play-centered vjs-default-skin vjs-fluid">
                <source src="res/nezha.mp4" type="video/mp4">
            </video>
        </div>
        <script src="/lib/videojs/video.js"></script>
        <script>
            var url = location.search;
            var theRequest = new Object();

            if (url.indexOf("?") != -1) {
                var str = url.substr(1);
                var strs = str.split("&");

                for(var i = 0; i < strs.length; i++) {
                    theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
                }
            }

            var video_url = theRequest["video"];

            var player = videojs('my-player',  { fluid: true });
            myPlayer.src(video_url);  //重置video的src
            myPlayer.load(video_url);  //使video重新加载

            player.ready(function() {
                player.play();
            });
        </script>
    </body>
</html>